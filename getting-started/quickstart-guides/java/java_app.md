---
description: >-
  Real-time image resizing, automatic optimization, and file uploading in Java
  application using ImageKit.io.
---

# Java Application

This is a quick start guide to show you how to integrate ImageKit in the Java application. The code samples covered here are hosted on Github -  [https://github.com/imagekit-samples/quickstart/tree/master/java](https://github.com/imagekit-samples/quickstart/tree/master/java).

This guide walks you through the following topics:

* [Setting up ImageKit Java SDK](java_app.md#setting-up-imagekit-java-sdk)
* [Upload images](java_app.md#uploading-images-in-java-app)
* [Rendering images](java_app.md#rendering-images-in-java-app)
* [Applying common image manipulations](java_app.md#common-image-manipulation-in-java-app)
* [Secure signed URL generation](java_app.md#secure-signed-url-generation)
* [Adding overlays to images](java_app.md#adding-overlays-to-images-in-java-app)

## Setting up ImageKit java SDK

We will create a fresh Java application for this tutorial and work with it.

First, we will install the imagekitio dependencies in our machine by applying the following things on our application.

## Install dependencies

- Java 1.8 or later
### Gradle users
Step 1. Add the JitPack repository to your build file
```
allprojects {
	repositories {
		...
		maven { url 'https://jitpack.io' }
	}
}
```
Step 2. Add the dependency on project's `build.gradle`:
```
dependencies {
        implementation 'com.github.imagekit-developer:imagekit-java:2.0.0'
}
```
### Maven users
Step 1. Add the JitPack repository to your build file
```
<repositories>
    <repository>
        <id>jitpack.io</id>
        <url>https://jitpack.io</url>
    </repository>
</repositories>
```
Step 2. Add the dependency in POM file:
```
<dependency>
    <groupId>com.github.imagekit-developer</groupId>
    <artifactId>imagekit-java</artifactId>
    <version>2.0.0</version>
</dependency>
```

It loads the imagekitio dependency in our application. Before the SDK can be used, let's learn about and configure the requisite authentication parameters that need to be provided to the SDK.
Open or create the `config.properties` file and add your public and private API keys, as well as the URL Endpoint as follows no need to use quote(' or ") in values: (You can find these keys in the Developer section of your ImageKit Dashboard)

```editorconfig
# Put essential values of keys [UrlEndpoint, PrivateKey, PublicKey]
UrlEndpoint=your_url_endpoint
PrivateKey=your_private_key
PublicKey=your_public_key
```

The imagekitio client is configured with user-specific credentials.

## **Uploading images in java app**

There are different ways to upload the file in imagekitio. Let's upload the remote file to imagekitio using the following code:

```java
FileCreateRequest fileCreateRequest =new FileCreateRequest("https://ik.imagekit.io/ikmedia/red_dress_woman.jpeg",  "women_in_red.jpg");
List<String> responseFields=new ArrayList<>();
responseFields.add("thumbnail");
responseFields.add("tags");
responseFields.add("customCoordinates");
fileCreateRequest.setResponseFields(responseFields);
List<String> tags=new ArrayList<>();
tags.add("Software");
tags.add("Developer");
tags.add("Engineer");
fileCreateRequest.setTags(tags);
Result result=ImageKit.getInstance().upload(fileCreateRequest);
```

The output should like this:
```java
upload remote file => 
{:response=>
    Result{
        isSuccessful=true,
        message='null',
        help='null',
        fileId='62ac768c7db9372ad1f07f0b',
        name='sample-image11__Unm_54pI.jpg',
        url='https://ik.imagekit.io/zv3rkhsym/sample-image11__Unm_54pI.jpg',
        thumbnail='null',
        height=0,
        width=0,
        size=169092,
        filePath='/sample-image11__Unm_54pI.jpg',
        tags='[Software, Developer, Engineer]',
        isPrivateFile=false,
        customCoordinates='null',
        fileType='non-image',
        aiTags=null,
        versionInfo={"id":"62ac768c7db9372ad1f07f0b","name":"Version 1"},
        customMetadata=null,
        embeddedMetadata=null,
        extensionStatus=null,
        type='null',
        mime='null',
        hasAlpha=null,
        createdAt=null,
        updatedAt=null
    }
}
```

Congratulation file uploaded successfully.

## **Rendering images in java app**
Here, declare a variable to store the image URL generated by the SDK. Like this:

```java
Map<String, Object> options=new HashMap();
options.put("path",baseFile.getFilePath());

String image_url=ImageKit.getInstance().getUrl(options);
```

Now, `image_url` has the URL `https://ik.imagekit.io/<your_imagekit_id>/default-image.jpg` stored in it.
This fetches the image from the URL stored in `image_url`.

open the url on browser, it should now display this default image in its full size:

![Image in its original dimensions (1000px \* 1000px)](<../../../.gitbook/assets/java-app-default-image.png>)

## Common image manipulation in java App

Let’s now learn how to manipulate images using [ImgeKit transformations](../../../features/image-transformations/).

### **Height and width manipulation**

To resize an image along with its height or width, we need to pass the `transformation` as an options with mapping the values with list to the `ImageKit.getInstance().getUrl()` method.

Let’s resize the default image to 200px height and width:

```java
List<Map<String, String>> transformation=new ArrayList<Map<String, String>>();
Map<String, String> scale=new HashMap<>();
scale.put("height","200");
scale.put("width","200");
transformation.add(scale);
Map<String, Object> options=new HashMap();
options.put("path", "/default-image.jpg");
options.put("transformation", transformation);

String image_url=ImageKit.getInstance().getUrl(options);
```

**Transformation URL:**

```http
https://ik.imagekit.io/zv3rkhsym/tr:w-200,h-200/default-image.jpg?ik-sdk-version=java-1.0.3
```

Refresh your browser with new url to get the resized image.

![Resized image (200px \* 200px)](<../../../.gitbook/assets/java-app-resized-image.png>)

### **Chained transformation**

[Chained transformations](https://docs.imagekit.io/features/image-transformations/chained-transformations) provide a simple way to control the sequence in which transformations are applied.

Let’s try it out by resizing an image, then rotating it:

```java
List<Map<String, String>> transformation=new ArrayList<Map<String, String>>();
Map<String, String> scale=new HashMap<>();
scale.put("height","200");
scale.put("width","200");
transformation.add(scale);
Map<String, Object> options=new HashMap();
options.put("path", "/default-image.jpg");
options.put("transformation", transformation);

String image_url=ImageKit.getInstance().getUrl(options);
```

**Transformation URL:**

```http
https://ik.imagekit.io/zv3rkhsym/tr:w-200,h-200/default-image.jpg?ik-sdk-version=java-1.0.3
```

**Output Image:**

![Resized and cropped (200px \* 300px)](<../../../.gitbook/assets/java-app-resized1-image.png>)

Now, rotate the image by 90 degrees.

```java
List<Map<String, String>> transformation=new ArrayList<Map<String, String>>();
Map<String, String> scale=new HashMap<>();
scale.put("height","300");
scale.put("width","200");
transformation.add(scale);
Map<String, String> rotate=new HashMap<>();
rotate.put("rt","90");
transformation.add(rotate);
Map<String, Object> options=new HashMap();
options.put("path", "/default-image.jpg");
options.put("transformation", transformation);

String image_url=ImageKit.getInstance().getUrl(options);
```

**Chained Transformation URL:**

```http
https://ik.imagekit.io/zv3rkhsym/tr:w-200,h-300:rt-90/default-image.jpg?ik-sdk-version=java-1.0.3
```

**Output Image:**

![Resized, then rotated](<../../../.gitbook/assets/java-app-resized-rotate-image.png>)

Let’s flip the order of transformation and see what happens.

```java
List<Map<String, String>> transformation=new ArrayList<Map<String, String>>();
Map<String, String> rotate=new HashMap<>();
rotate.put("rt","90");
transformation.add(rotate);
Map<String, String> scale=new HashMap<>();
scale.put("height","300");
scale.put("width","200");
transformation.add(scale);
Map<String, Object> options=new HashMap();
options.put("path", "/default-image.jpg");
options.put("transformation", transformation);

String image_url=ImageKit.getInstance().getUrl(options);
```

**Chained Transformation URL:**

```http
https://ik.imagekit.io/zv3rkhsym/tr:rt-90:w-200,h-300/default-image.jpg?ik-sdk-version=java-1.0.3
```

**Output Image:**

![Rotated, then resized](<../../../.gitbook/assets/java-app-rotate-resized-image.png>)

## Adding overlays to images in java App

ImageKit.io allows you to add [text](../../../features/image-transformations/overlay.md#text-overlay) and [image overlay](../../../features/image-transformations/overlay.md) dynamically.

#### **Text overlay**

Text overlay can be used to superimpose text on an image. For example:

```java
List<Map<String, String>> transformation=new ArrayList<Map<String, String>>();
Map<String, String> scale=new HashMap<>();
scale.put("height","300");
scale.put("width","300");
transformation.add(scale);
Map<String, String> overlay=new HashMap<>();
overlay.put("overlayText","ImageKit");
overlay.put("overlayTextFontSize","50");
overlay.put("overlayTextColor","0651D5");
transformation.add(overlay);
Map<String, Object> options=new HashMap();
options.put("path", "/default-image.jpg");
options.put("transformation", transformation);

String image_url=ImageKit.getInstance().getUrl(options);
```

**Transformation URL:**

```http
https://ik.imagekit.io/zv3rkhsym/tr:w-300,h-300:ots-50,ot-ImageKit,otc-0651D5/default-image.jpg?ik-sdk-version=java-1.0.3
```

**Output Image:**

![Text Overlay (300px \* 300px)](<../../../.gitbook/assets/java-app-with-overlay-text.png>)

#### **Image overlay**

Image overlay can be used to superimpose an image on another image. For example, we will upload a while logo image on [this link](https://ik.imagekit.io/demo/logo-white_SJwqB4Nfe.png) into our account and use it for the overlay image.

Base Image: `default-image.jpg`

Overlay Image: `logo-white_SJwqB4Nfe.png`

```java
List<Map<String, String>> transformation=new ArrayList<Map<String, String>>();
Map<String, String> scale=new HashMap<>();
scale.put("height","300");
scale.put("width","300");
transformation.add(scale);
Map<String, String> overlay=new HashMap<>();
overlay.put("overlayImage","logo-white_SJwqB4Nfe.png");
transformation.add(overlay);
Map<String, Object> options=new HashMap();
options.put("path", "/default-image.jpg");
options.put("transformation", transformation);

String image_url=ImageKit.getInstance().getUrl(options);
```

**Transformation URL:**

```http
https://ik.imagekit.io/zv3rkhsym/tr:w-300,h-300:oi-logo-white_SJwqB4Nfe.png/default-image.jpg?ik-sdk-version=java-1.0.3
```

**Output Image:**

![Overlay image over another image](<../../../.gitbook/assets/java-app-with-overlay-image.png>)

## Secure signed URL generation

You can use the SDK to generate a signed URL of an image, that expires in a given number of seconds.

```java
Map<String, Object> options=new HashMap();
options.put("path", "/default-image.jpg");
options.put("signed",true);
options.put("transformation", new ArrayList<Map<String, String>>());
options.put("expireSeconds",10);

String signed_image_url=ImageKit.getInstance().getUrl(options);
```

The above snippets create a signed URL with an expiry time of 10 seconds.

![Signed URL generation](<../../../.gitbook/assets/java-app-with-signed-image.png>)

## **What's next**

The possibilities for image manipulation and optimization with ImageKit are endless. Learn more about it here:&#x20;

* [Image Transformations](https://docs.imagekit.io/features/image-transformations)
* [Image optimization](https://docs.imagekit.io/features/image-optimization)
* [Media Library](https://docs.imagekit.io/media-library/overview)
* [Performance monitoring](../../features/performance-monitoring.md)
